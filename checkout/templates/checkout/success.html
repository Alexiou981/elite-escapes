<!-- templates/success.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Payment Successful</title>
    <script>
        /* 
        Code created with the help of the following source: 
        https://stackoverflow.com/questions/61929987/redirect-django-url-with-javascript 
        */
       
        let countdown = 5; // Start at 5 seconds 
        function updateCountdown() {
            const countdownElement = document.getElementById('countdown');
            countdownElement.textContent = countdown; // Update visible countdown
            if (countdown === 0) {
                // Redirect when countdown reaches 0
                window.location.href = "{% url 'home' %}";
            }
            countdown--; // Decrease countdown
        }

        // Run the function every second
        setInterval(updateCountdown, 1000);
    </script>
</head>
<body>
    <div class="container text-center mt-5">
        <h1>Thank you for your purchase!</h1>
        <h2>Your payment has been processed successfully!</h2>
        <p>You will be redirected to the home page in <span id="countdown">5</span> seconds.</p>
        <p>If you are not redirected, <a href="{% url 'home' %}">click here</a>.</p>
    </div>
</body>
</html>
