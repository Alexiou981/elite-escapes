<!-- templates/success.html -->
{% extends "base.html" %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="card shadow-lg p-4 text-center">
        <div class="card-body">
            <i class="fas fa-check-circle text-white display-3"></i>
            <h1 class="mt-3 font-weight-bold text-success">Thank You for Your Purchase!</h1>
            <h4 class="text-success">Your payment has been processed successfully.</h4>
            
            <p class="mt-3 text-white">
                You will be redirected to the home page in <span id="countdown" class="font-weight-bold text-danger">5</span> seconds.
            </p>

            <div class="spinner-border text-white mt-3" role="status">
                <span class="sr-only">Loading...</span>
            </div>

            <p class="mt-3 text-white">If you are not redirected, <a href="{% url 'home' %}" class="font-weight-bold text-primary">click here</a>.</p>
        </div>
    </div>
</div>

<script>
    let countdown = 5; // Start at 5 seconds 
    function updateCountdown() {
        const countdownElement = document.getElementById('countdown');
        countdownElement.textContent = countdown; // Update visible countdown
        if (countdown === 0) {
            window.location.href = "{% url 'home' %}";
        }
        countdown--; // Decrease countdown
    }
    setInterval(updateCountdown, 1000);
</script>
{% endblock %}
